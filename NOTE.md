# 推しポイント

- `Highcharts` のデフォルトだとたくさんチェックをつけたときに色が被るので、ハードコーディングにはなってしまうのですが、各都道府県旗から色をスポイトしたマップを作っておいて、その色がラベルやグラフの色に固有色として反映されるようになっています
  - 私はかわいい web デザインが大好きなので、個性を発揮できたポイントかなと思います
  - 一方で、例えば岡山・山口・鹿児島など固有色が似ている都道府県にチェックをつけると、判別がしづらいという問題はあります(これは `Highcharts` のデフォルトではある程度の数までは自動で回避される(離れた色が割り当てられる)ようでした。ただし先述の通りたくさんチェックをつけると全く同じ色も登場します)
  - 都道府県旗の出典はここ(https://uub.jp/prf/kenki_color.html)で、手動でそれぞれの旗の中の可読性の高そうな色を選んでスポイトしました
- `Highcharts` はデフォルトで `legend` (凡例)をクリックするとグラフの表示非表示を操作できるのですが、今回はチェックボックスと役割が被りややこしいと思ったのでこの機能を使わないように設定しました
- 全くもってプログラミングの話ではないのですが、チェックボックスの SVG 画像は自作です。
  - SVG を作ったこと自体がどうというよりは、web アプリケーションをより良いものにするためのデザイン分野にも興味がありますという意味が強いです
  - こだわりポイントとして、チェックマークのところは `currentColor` になるようにしていて、親であるラベルの色(都道府県旗の色を使っています)と一致します。
    - クリックした時はラベルの背景色が都道府県県の固有色になって、文字は白になりますが、文字を `span` に入れることでラベル自体の `color` を固有色のままにしているので、チェックマークの色も固有色になります

# 余裕があったらやりたいところ

- API を叩く部分を関数化する
- 都道府県を地方ごとに分ける
- PC 幅の時もう少しいい感じにする
- ダークモード対応

# 迷ったところ

- 本当に 1 ページしかないので当然 SPA になるが、もしこのアプリケーションがさらに機能やページを追加されることを想定するとしたら本当に SPA として適当な構成と言えるのか？
  - `<component :is="'></component>` を使うことで、(面倒だけど)一応 SPA としてやっていけるようにした。Vue router はあくまで今回の課題としては過剰になると思うので、結局入れなかった
- API から返ってくる値を検証していない
  - 例えば、 47 都道府県全て同じ形式で人口が返ってくるとは限らない
  - 初めは `xAxis` に年代を指定する形でグラフを表示しようとしていたが、 `series` に x 軸の値も入れる形式が取れることがわかったので、仮に県によって違う年代が返ってきたとしてもある程度いい感じに表示されるようにはなったはず
- どうでもいいかもしれないが、 `LabeledCheckbox` を並べるときに `flex` で並べるか、 `grid` で並べるか結構迷った
  - 全ての都道府県名の文字数が同じなら `grid` 1 択だと思ったんだけど、神奈川と和歌山と鹿児島があるからこの県達に合わせるとなんとなくスカスカになる
- 小規模っぽいアプリケーションを作った経験がなかったので、 `Vuex` を導入するのを躊躇ってしまい、結果的にアプリケーション全体で利用したい値を扱うための実装にものすごく迷いが生じてしまった
  - 結局適切だったのかよくわからない、素直に `Vuex` を使った方が良かったのかもしれない
  - でも複数ページあってそこではこのページで必要だった値が一切いらないみたいなパターンを考えると、これでも良かったと考えています
- もともと `PrefectureCheckboxes` がコンポーネント単体で都道府県のチェックボックスの一覧を表示できるように、コンポーネント内で API を叩いた方がいいかなと思ってそういう実装にしていたが、結局 `prefCode` と `prefName` はグラフの方でも必要だったので、コンポーネントで完結はできないが `TopPage` で得た(API を叩いた)情報を props として受け取るようにした
  - これが本当にいいのか本当に悩んでいます
