# 推しポイント

- `Highcharts` のデフォルトだとたくさんチェックをつけたときに色が被るので、ハードコーディングにはなってしまうのですが、各都道府県旗から色をスポイトしたマップを作っておいて、その色がラベルやグラフの色に固有色として反映されるようになっています
  - 私はかわいい web デザインが大好きなので、個性を発揮できたポイントかなと思います
  - 一方で、例えば岡山・山口・鹿児島など固有色が似ている都道府県にチェックをつけると、判別がしづらいという問題はあります(これは `Highcharts` のデフォルトではある程度の数までは自動で回避される(離れた色が割り当てられる)ようでした。ただし先述の通りたくさんチェックをつけると全く同じ色も登場します)
  - 都道府県旗の出典はここ(https://uub.jp/prf/kenki_color.html)で、手動でそれぞれの旗の中の可読性の高そうな色を選んでスポイトしました
- `Highcharts` はデフォルトで `legend` (凡例)をクリックするとグラフの表示非表示を操作できるのですが、今回はチェックボックスと役割が被りややこしいと思ったのでこの機能を使わないように設定しました
- 全くもってプログラミングの話ではないのですが、チェックボックスの SVG 画像は自作です。
  - SVG を作ったこと自体がどうというよりは、web アプリケーションをより良いものにするためのデザイン分野にも興味がありますという意味が強いです
  - こだわりポイントとして、チェックマークのところは `currentColor` になるようにしていて、親であるラベルの色(都道府県旗の色を使っています)と一致します。
    - クリックした時はラベルの背景色が都道府県県の固有色になって、文字は白になりますが、文字を `span` に入れることでラベル自体の `color` を固有色のままにしているので、チェックマークの色も固有色になります

# 迷ったポイント

- 本当に 1 ページしかないので当然 SPA になるが、もしこのアプリケーションがさらに機能やページを追加されることを想定するとしたら本当に SPA として適当な構成と言えるのか？
  - `<component :is="'></component>` を使うことで、(設定は面倒ですが)一応 SPA としてやっていけるようにしました。Vue router はあくまで今回の課題としては過剰になると判断したので、結局入れませんでした
- API から返ってくる値を検証していない
  - 例えば、 47 都道府県全て同じ形式で人口が返ってくるとは限らない
  - 初めは `xAxis` に年代を指定する形でグラフを表示しようとしていましたが、 `series` に x 軸の値も入れる形式が取れることがわかったので、仮に県によって違う年代のデータが返ってきたとしてもある程度いい感じに表示されるようにはなったと思います
- `LabeledCheckbox` を並べるときに `flex` で並べるか、 `grid` で並べるか結構迷った
  - 全ての都道府県名の文字数が同じなら 左右の余白が綺麗に整いつつ複数行に並べることができるので `grid` かなと思ったのですが、神奈川県と和歌山県と鹿児島県が 4 文字なのでこの県達に合わせるとなんとなくスカスカになるのが気になりました
  - 後から考えると、1 次元的に並べたいので `flex` 、という判断でも良かったかなという気もしています
- 小規模っぽいアプリケーションを作った経験がなかったので、 `Vuex` を導入するのを躊躇ってしまい、結果的にアプリケーション全体で利用したい値を扱うための実装にものすごく迷いが生じてしまった
  - 結構実装は面倒だったので、この判断が結局適切だったのか、素直に `Vuex` を使った方が良かったのかもしれないと実装中は思いました
  - ただ、複数ページあって、他のページでは今回ページで必要だった値が一切いらない、といったパターンを考えると、これで良かったと考えています
- もともと `PrefectureCheckboxes` がコンポーネント単体で都道府県のチェックボックスの一覧を表示できるように、コンポーネント内で API を叩いた方がいいかなと思ってそういう実装にしていたが、結局 `prefCode` と `prefName` はグラフの方でも必要だったので、コンポーネントで完結はできないが `TopPage` で得た(API を叩いた)情報を props として受け取るようにした
  - これが本当にいいのかは本当に悩んでいます(`Vuex` を導入すべきか悩んだポイントも主にこの点が大きかったような気がします)
- 地方の分類をスマホの画面サイズでやると高さが突き抜けてしまってグラフが見えづらく、使いにくくなってしまうと思ったため、分類されたチェックボックス群と分類されていないチェックボックス群を画面幅で表示だけ切り替えるように実装したが、いい実装なのかはわからない
  - チェックを入れてから画面幅を変えるとまっさらなチェックボックスが現れてすごくよくない実装だった
    - Javascript でゴリ押して一応動作上は正しく動くようになったが、それも良いコードではない感じがしたので、地方の分類があるバージョンを `regional-division` ブランチとして記録は残しておき、地方の分類のないものを最終的に製作したアプリケーションとして提出させていただきます
    - ![regional-divisionブランチのアプリケーションのスクリーンショット](https://user-images.githubusercontent.com/74708840/169922976-09142936-7685-4f88-b44c-9945309ed004.png)
- Vue のプロジェクトを立ち上げた時点でいい感じにダークモードに対応されているので、せっかくだから対応しようかと考えたが、都道府県の固有色を白背景前提で設定しており、その周りの処理が大変そうだったのでやめた。
  - 対応を試みた時のスクリーンショットは以下の通りで、ヘッダやグラフのプレースホルダなどは割と簡単にダークモード対応できました。
